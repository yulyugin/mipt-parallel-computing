% Compile with XeLaTeX, TeXLive 2013 or more recent
\input{common/config}

\title{Кэш память в многопроцессорных системах}

\begin{document}

\begin{frame}
\titlepage
\end{frame}

\section*{Обзор}

\begin{frame}{На прошлой лекции}
\end{frame}

\begin{frame}{На этой лекции}
\tableofcontents
\end{frame}

\section{Назначение}

\begin{frame}{Стена памяти}
\todo picture
\end{frame}

\begin{frame}{Ускорение доступов в память}
\begin{itemize}
    \item Быстрое, небольшое хранилище,
    \item Прозрачно для ISA,
    \item Хранит недавно использованные блоки, а также прилегающие к ним данные.
\end{itemize}
\end{frame}

\begin{frame}{Локальность (\abbr locality) данных}
\todo picture
\end{frame}

\section{Устройство и принципы работы}

\begin{frame}{Кэш (\abbr cache)}
\todo picture
\end{frame}

\begin{frame}{Поиск в кэше}
\todo picture
\end{frame}

\begin{frame}{Ассоциативность}
\todo
\end{frame}

\begin{frame}{События при поиске в кэше}
\begin{columns}[t]
    \begin{column}[T]{0.5\textwidth}
    Внешние:
    \begin{itemize}
        \item Чтение --- попадание,
        \item Чтение --- промах,
        \item Запись --- попадание,
        \item Запись --- промах.
    \end{itemize}
    \end{column}
    \begin{column}[T]{0.5\textwidth}
    Внутренние:
    \begin{itemize}
        \item Поиск --- тэг не найден,
        \item Поиск --- флаг V снят,
        \item Добавление --- нет свободной ячейки.
    \end{itemize}
    \end{column}
\end{columns}
\end{frame}

\begin{frame}{Кэши и физические/виртуальные адреса}
\end{frame}

\begin{frame}{Кэш инструкций и данных}
\end{frame}

\begin{frame}{Многоуровневые кэши}
\begin{itemize}
    \item Один уровень кэша имеет ограничения по емкости/скорости,
    \item Решение --- ирархическая система,
    \item Кэши высоких уровней имеют большую емкости и большее время доступа.
\end{itemize}
\end{frame}

\begin{frame}{Многоуровневые кэши}
\todo picture
\end{frame}

\begin{frame}{Политики записи в память}
\begin{itemize}
    \item WT (write through),
    \item WB (write back),
    \item WA (write allocate),
    \item WC (write combined),
    \item UC (uncacheable).
\end{itemize}
\end{frame}

\section{Кэши в многопроцессорных системах}

\begin{frame}{Кэши в многопроцессорных системах}
\begin{itemize}
    \item В качастве кэширующих агентов выступают CPU/другие устройства, имеющие DMA,
    \item Исполняющимся программам необходимо иметь <<консистентный>> вид на память,
    \item Обеспечивается подшлядыванием в чужие кэши/явными передачами
    сообщений и определяется протоколом когерентности системы.
\end{itemize}
\end{frame}

\begin{frame}{Когерентность}
\todo
\end{frame}

\begin{frame}{MESI}
\inputpicture{mesi}
\end{frame}

\section*{Конец}
% The final "thank you" frame

\begin{frame}[allowframebreaks]{Литература}
\begin{thebibliography}{99}
    \bibitem{urlich-cpumemory} \textit{Urlich Drepper}. What Every Programmer
    Should Know About Memory.
    \url{http://www.cs.bgu.ac.il/~os142/wiki.files/drepper-2007.pdf}
    \bibitem{henecy-patterson} \textit{John L. Hennessy and David A. Patterson}.
    Computer Architecture -- A Quantitative Approach (5. ed.).
\end{thebibliography}
\end{frame}

\begin{frame}{Задания}
\end{frame}

\begin{frame}{На следующей лекции}
\end{frame}

\begin{frame}

{\huge{Спасибо за внимание!}\par}

\vfill

\tiny{\textit{Замечание}: все торговые марки и логотипы, использованные в данном материале, являются собственностью их владельцев. Представленная здесь точка зрения отражает личное мнение автора, не выступающего от лица какой-либо организации.}

\end{frame}

\end{document}
